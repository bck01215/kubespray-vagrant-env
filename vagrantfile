Vagrant.configure("2") do |config|
  config.vm.define "server1" do |server1|
    server1.vm.box = "generic/centos9s"
    server1.vm.hostname = "server1"
    server1.vm.network "private_network", ip: "192.168.56.56"
    server1.vm.provider "virtualbox" do |d|
        d.name = "server1"
        d.memory = 4096
    end
    server1.vm.network "forwarded_port", guest: 8500, host: 8500
    server1.vm.network "forwarded_port", guest: 4646, host: 4646
    server1.vm.network "forwarded_port", guest: 8080, host: 8080
    server1.vm.network "forwarded_port", guest: 9333, host: 9333
    server1.vm.provision "shell", path: "vagrant_startup.sh"
  end

  config.vm.define "server2" do |server2|
    server2.vm.box = "generic/centos9s"
    server2.vm.hostname = "server2"
    server2.vm.network "private_network", ip: "192.168.56.34"
    server2.vm.provider "virtualbox" do |d|
        d.name = "server2"
        d.memory = 4096
    end
    server2.vm.provision "shell", path: "vagrant_startup.sh"

  end

  config.vm.define "server3" do |server3|
    server3.vm.box = "generic/centos9s"
    server3.vm.hostname = "server3"
    server3.vm.network "private_network", ip: "192.168.56.35"
    server3.vm.provider "virtualbox" do |d|
        d.name = "server3"
        d.memory = 4096
    end
    server3.vm.provision "shell", path: "vagrant_startup.sh"
  end
  config.vm.define "client1" do |client1|
    client1.vm.box = "generic/centos9s"
    client1.vm.hostname = "client1"
    client1.vm.network "private_network", ip: "192.168.56.36"
    client1.vm.provider "virtualbox" do |d|
        d.name = "client1"
        d.memory = 4096
    end
    client1.vm.provision "shell", path: "vagrant_startup.sh"
  end

  config.vm.define "client2" do |client2|
    client2.vm.box = "generic/centos9s"
    client2.vm.hostname = "client2"
    client2.vm.network "private_network", ip: "192.168.56.37"
    client2.vm.provider "virtualbox" do |d|
        d.name = "client2"
        d.memory = 4096
    end
    client2.vm.provision "shell", path: "vagrant_startup.sh"
  end
  config.vm.define "client3" do |client3|
    client3.vm.box = "generic/centos9s"
    client3.vm.hostname = "client3"
    client3.vm.network "private_network", ip: "192.168.56.38"
    client3.vm.provider "virtualbox" do |d|
        d.name = "client3"
        d.memory = 4096
    end
    client3.vm.provision "shell", path: "vagrant_startup.sh"
  end
end
